<?php 
    class ListeSoireeDAO
    {
        private $gestionConnexion;
        private $soireeDAO;

        public function __construct($soireeDAO){
            $this->gestionConnexion = GestionConnexion::getConnexion();
            $this->soireeDAO = $soireeDAO;
        }

        public function updateListe(){
            $sql = "SELECT idSoiree FROM soiree";
            $res = $this->gestionConnexion->query($sql);
            $tuples = $res->fetchAll();

            $liste = array();
            foreach ($tuples as $tuple) {
                $soiree = new Soiree($tuple["idSoiree"], $this->soireeDAO);
                $soiree->charger();
                $liste[] = $soiree;
            }

            return $liste;
        }
    }
?>